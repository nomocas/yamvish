!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.y=t()}}(function(){return function t(e,n,r){function i(o,u){if(!n[o]){if(!e[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[o]={exports:{}};e[o][0].call(h.exports,function(t){var n=e[o][1][t];return i(n?n:t)},h,h.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){!function(){function t(e,n,r,i,s){"string"==typeof n&&(n=i.rules[n]);for(var o=n._queue,u=0,a=o.length;a>u;++u){var l=o[u];if(e=l.__lexer__?t(e,l,r,i,s):l.call(i,e,r,s),e===!1)return!1}return e}function n(){this._queue=[],this.__lexer__=!0}var r=/^[\s\n\r]+/;n.prototype={done:function(t){return this._queue.push(t),this},log:function(t){return t=t||"",this.done(function(e,n,r){return console.log("elenpi.log : ",t,e,n),e})},regExp:function(t,e,n){return this.done(function(r,i,s){if(!r)return e?r:!1;var o=t.exec(r);return o?(n&&("string"==typeof n?i[n]=o[0]:n.call(this,i,o,s)),r.substring(o[0].length)):e?r:!1})},"char":function(t,e){return this.done(function(n,r){return n?n[0]===t?n.substring(1):e?n:!1:!1})},xOrMore:function(e,n,r,i){return i=i||0,this.done(function(s,o,u){for(var a=[],l=!0,h=0;l&&s;){var c=e?this.createDescriptor?this.createDescriptor():{}:o;l=t(s,n,c,this,u),l!==!1&&(h++,s=l,c.skip||a.push(c),r&&s&&(l=t(s,r,c,this,u),l!==!1&&(s=l)))}return i>h?!1:(e&&a.length&&(o[e]=a),s)})},zeroOrMore:function(t,e,n){return this.xOrMore(t,e,n,0)},oneOrMore:function(t,e,n){return this.xOrMore(t,e,n,1)},zeroOrOne:function(e,n){return 1===arguments.length&&(n=e,e=null),this.done(function(r,i,s){if(!r)return r;var o=e?this.createDescriptor?this.createDescriptor():{}:i,u=t(r,n,o,this,s);return u!==!1&&(e&&(i[e]=o),r=u),r})},oneOf:function(e,n,r){return 1===arguments.length&&(n=e,e=null),this.done(function(i,s,o){if(!i)return!1;for(var u=0;u<n.length;){var a=e?this.createDescriptor?this.createDescriptor():{}:s,l=t(i,n[u],a,this,o);if(l!==!1)return e&&(s[e]=a),l;u++}return r?i:!1})},rule:function(e){return this.done(function(n,r,i){var s=this.rules[e];if(!s)throw new Error("elenpi.Rule :  rules not found : "+e);return t(n,s,r,this,i)})},skip:function(){return this.done(function(t,e){return e.skip=!0,t})},space:function(t){return this.done(function(e,n){if(!e)return t?!1:e;var i=(this.rules.space||r).exec(e);return i?e.substring(i[0].length):t?!1:e})},end:function(t){return this.done(function(e,n){return e&&t?!1:e})}};var i=function(t,e){this.rules=t,this.defaultRule=e};i.prototype={exec:function(e,n,r,i){return r||(r=this.rules[this.defaultRule]),t(e,r,n,this,i)},parse:function(t,e,n){var r=this.createDescriptor?this.createDescriptor():{},i=this.exec(t,r,e,n);return i===!1||i&&i.length>0?!1:r}};var s={r:function(){return new n},Rule:n,Parser:i};"undefined"!=typeof e&&e.exports?e.exports=s:this.elenpi=s}()},{}],2:[function(t,e,n){var r=function(t){return new r.Template(t)};r.env=t("./lib/env"),r.utils=t("./lib/utils"),r.Context=t("./lib/context"),r.Template=t("./lib/template"),r.PureNode=t("./lib/pure-node"),r.Container=t("./lib/container"),r.Filter=t("./lib/filter");var i=t("./lib/interpolable");r.interpolable=i.interpolable,r.Interpolable=i.Interpolable,r.Virtual=t("./lib/virtual"),r.addToApi=function(t,e,n,r){},e.exports=r},{"./lib/container":5,"./lib/context":6,"./lib/env":8,"./lib/filter":9,"./lib/interpolable":10,"./lib/pure-node":17,"./lib/template":18,"./lib/utils":19,"./lib/virtual":21}],3:[function(t,e,n){var r=t("./core");r.View=t("./lib/view"),r.elenpi=t("elenpi"),r.dom=t("./lib/parsers/dom-to-template"),r.html=t("./lib/parsers/html-string-to-template"),r.listenerParser=t("./lib/parsers/listener-call"),e.exports=r},{"./core":2,"./lib/parsers/dom-to-template":11,"./lib/parsers/html-string-to-template":12,"./lib/parsers/listener-call":13,"./lib/view":20,elenpi:1}],4:[function(t,e,n){function r(t){t._async.count--,t._async.count<=0&&i(t)}function i(t){var e=t._async,n=e.errors.length?e.fails:e.successes,r=e.errors.length?e.errors:!0;t.dispatchEvent&&t.dispatchEvent("done");for(var i=0;i<n.length;i++)n[i](r);e.successes=[],e.fails=[],e.errors=[]}var s=t("./emitter"),o=t("./utils"),u=function(){this._async={count:0,errors:[],successes:[],fails:[],callbacks:[]},s.call(this)};u.prototype={waiting:function(t){this._async.count++;var e=this;return this.parent&&this.parent.waiting&&this.parent.waiting(t),t.then(function(t){return r(e),t},function(t){throw console.log("async waiting error : ",t),e._async.errors.push(t),r(e),t})},delay:function(t,e){var n=this;return this._async.count++,this.parent&&this.parent.delay&&this.parent.delay(function(){},e),setTimeout(function(){t(),r(n)},e)},done:function(t,e){var n=this;return 0===this._async.count?Promise.resolve(!0).then(t,e):new Promise(function(t,e){n._async.successes.push(t),n._async.fails.push(e)}).then(t,e)},once:function(t,e){this._events=this._events||{};var n=this;return(this._events[t]=this._events[t]||[]).push(function(r){n.removeEventListener(t,e),e.call(this,r)}),this}},o.mergeProto(s.prototype,u.prototype),e.exports=u},{"./emitter":7,"./utils":19}],5:[function(t,e,n){function r(t){t=t||{},this.__yContainer__=!0,t.parent&&(this.parent=t.parent),this.childNodes=[],s.call(this,t)}var i=t("./utils"),s=t("./pure-node"),o=t("./emitter");r.prototype={mount:function(t,e,n){if(this.destroyed)throw new Error("yamvish container has been destroyed. could not mount anymore.");if(t&&(t===this.mountPoint||t===this.mountSelector))return this;if(!this.childNodes)return this;var r=t;if("string"==typeof r&&(this.mountSelector=t,r=(n||i.domQuery)(t)),!r)throw new Error("yamvish : mount point not found : "+t);return this.mountPoint=r,e||i.emptyNode(r),i.mountChildren(this,r),(r._yamvish_containers=r._yamvish_containers||[]).push(this),this.dispatchEvent("mounted",this)},appendTo:function(t,e){return this.mount(t,"append",e)},unmount:function(){if(!this.mountPoint)return this;for(var t=0;t<this.childNodes.length;t++)this.mountPoint.removeChild(this.childNodes[t]);return this.mountPoint=null,this.mountSelector=null,this.dispatchEvent("unmounted",this)},destroy:function(){if(this.destroyed)return this;if(this.dispatchEvent("destroy",this),this.destroyed=!0,this.childNodes)for(var t=0;t<this.childNodes.length;t++)i.destroyElement(this.childNodes[t],!0);this.childNodes=null,this.context=null,this.mountPoint=null,this.mountSelector=null,this._route&&(this._route.unbind&&this._route.unbind(),this._route=null)},hide:function(){return this.destroyed?this:void this.childNodes.forEach(function(t){t.style||(t.style={}),t.style.display="none"})},show:function(){return this.destroyed?this:void this.childNodes.forEach(function(t){t.style&&(t.style.display="")})},done:function(t,e){return this.destroyed?Promise.reject(new Error("yamvish container has been destroyed : nothing to wait for.")):this.promise?this.promise.then(t,e):Promise.resolve(this).then(t)}},i.mergeProto(s.prototype,r.prototype),i.mergeProto(o.prototype,r.prototype),r.prototype.appendChild=function(t){return s.prototype.appendChild.call(this,t),this.mountPoint&&this.mountPoint.appendChild(t),t},r.prototype.removeChild=function(t){return this.childNodes?(s.prototype.removeChild.call(this,t),this.mountPoint&&this.mountPoint.removeChild(t),t):!1},e.exports=r},{"./emitter":7,"./pure-node":17,"./utils":19}],6:[function(t,e,n){function r(t){t=t||{},this.data=void 0!==t.data?t.data:{},t.parent&&(this.parent=t.parent),this.map={},t.path&&(this.path=t.path);var e=this;this._binds=[],t.path&&this.parent&&this._binds.push(this.parent.subscribe(t.path,function(t,n,r){e.reset(r)})),o.call(this,t)}function i(t,e,n,r,i){for(var s=0,o=t._upstreams.length;o>s;++s){var u=t._upstreams[s];if(u){var a=u.call(this,e,n,r,i);a&&a.then&&this.waiting(a)}else o=t._upstreams.length}}var s=t("./utils"),o=t("./async");r.prototype={destroy:function(){this._binds&&this._binds.forEach(function(t){t()}),this._binds=null,this.parent=null,this.data=null,this.map=null},get:function(t){if(t.forEach||(t=t.split(".")),"$this"===t[0]&&1===t.length)return this.data;if("$parent"==t[0]){if(!this.parent)throw new Error("yamvish.Context : there is no parent in current context. could not find : "+t.join("."));return this.parent.get(t.slice(1))}var e=s.getProp(this.data,t);return void 0===e?"":e},dependent:function(t,e,n){var r,i=[],s=this;return e.forEach(function(o){s._binds.push(s.subscribe(o,function(i,o,u,a){r||(r=s.delay(function(){if(r){r=null;for(var i=[],o=0,l=e.length;l>o;++o){var h=e[o];i.push(a===h?u:s.get(h))}s.set(t,n.apply(s,i))}},0))})),i.push(s.get(o))}),this.set(t,n.apply(this,i)),this},reset:function(t){return t===this.data||this.data instanceof Date&&t instanceof Date&&this.data.valueOf()===t.valueOf()?this:(this.data=t||{},this.notifyAll("reset",null,this.map,t,"*"),this)},toggle:function(t,e){return this.set(t,!this.get(t)),this},toggleInArray:function(t,e){for(var n=this.get(t),r=0,i=n.length;i>r;++r)if(n[r]===e)return this.del(t+"."+r),this;return this.push(t,e)},set:function(t,e){if(t.forEach||(t=t.split(".")),"$this"===t[0])return this.reset(e);if("$parent"===t[0]){if(this.parent)return this.parent.set(t.slice(1),e);throw new Error("yamvish.Context : there is no parent in current context. could not find : "+t.join("."))}var n=s.setProp(this.data,t,e);if(n!==e){if(n instanceof Date&&e instanceof Date&&n.valueOf()===e.valueOf())return this;this.notify("set",t,e,t[t.length-1])}return this},push:function(t,e){if(t.forEach||(t=t.split(".")),"$parent"==t[0]){if(this.parent)return this.parent.push(t.slice(1),e);throw new Error("yamvish.Context : there is no parent in current context. could not find : "+t.join("."))}var n;if(n="$this"===t[0]?this.data:s.getProp(this.data,t),!n)throw new Error("yamvish.Context : Missing array at "+t.join(".")+" : couldn't push object.");if(!n.forEach)throw new Error("yamvish.Context : Object is not array at "+t.join(".")+" : couldn't push object.");return n.push(e),this.notify("push",t,e,n.length-1),this},del:function(t){if(t=t.forEach?t.slice():t.split("."),"$parent"==t[0]){if(this.parent)return this.parent.del(t.slice(1));throw new Error("yamvish.Context : there is no parent in current context. could not find : "+t.join("."))}var e=t.slice(),n=e.pop(),r=e.length?s.getProp(this.data,e):this.data;if(r)if(r.forEach){var i=parseInt(n,10);this.notify("removeAt",e,r.splice(i,1),i)}else{var o=r[n];delete r[n],this.notify("delete",t,o,n)}return this},subscribe:function(t,e,n){if(!e)throw new Error("subscribe need function");t.forEach||(t=t.split("."));var r;if("$this"===t[0])r=this.map;else{if("$parent"===t[0]){if(this.parent)return this.parent.subscribe(t.slice(1),e,n);throw new Error("yamvish.Context : there is no parent in current context. could not find : "+t.join("."))}r=s.getProp(this.map,t)}n?r?(r._upstreams=r._upstreams||[]).push(e):s.setProp(this.map,t,{_upstreams:[e]}):r?(r._listeners=r._listeners||[]).push(e):s.setProp(this.map,t,{_listeners:[e]});var i=this;return function(){i.unsubscribe(t,e,n)}},unsubscribe:function(t,e,n){t.forEach||(t=t.split("."));var r;if("$this"===t[0])r=this.map;else{if("$parent"===t[0]){if(this.parent)return this.parent.unsubscribe(t.slice(1),e,n),this;throw new Error("yamvish.Context : there is no parent in current context. could not find : "+t.join("."))}r=s.getProp(this.map,t)}if(!r)return this;for(var i=n?r._upstreams:r._listeners,o=0,u=i.length;u>o;++o)if(i[o]===e){i.splice(o,1);break}return this},notifyAll:function(t,e,n,r,i){if(n=n||this.map,r=arguments.length<2?this.data:r,n._listeners)for(var s=0,o=n._listeners.length;o>s;++s){var u=n._listeners[s];if(u){var a=u.call(this,t,e,r,i);a&&a.then&&this.waiting(a)}else o=n._listeners.length}if("push"!==t&&"removeAt"!==t)for(var l in n)"_listeners"!==l&&"_upstreams"!==l&&this.notifyAll(t,e,n[l],r?r[l]:void 0,i);return this},notify:function(t,e,n,r){e.forEach||(e=e.split(".")),"$this"===e[0]&&(e=e.slice(1));for(var s,o=this.map,u=0,a=e.length;a>u&&(s=o["*"],s&&s._upstreams&&i.call(this,s,t,e,n,r),o=o[e[u]]);++u)o._upstreams&&i.call(this,o,t,e,n,r);return s&&this.notifyAll(t,e,s,n,r),o&&this.notifyAll(t,e,o,n,r),this},setAsync:function(t,e){var n=this;return this.waiting(e.then(function(e){return n.set(t,e),e},function(t){throw console.error("error while Context.setAsync : ",t),t}))},pushAsync:function(t,e){var n=this;return this.waiting(e.then(function(e){return n.push(t,e),e},function(t){throw console.error("error while Context.pushAsync : ",t),t}))}},s.mergeProto(o.prototype,r.prototype),e.exports=r},{"./async":4,"./utils":19}],7:[function(t,e,n){var r=function(){};r.prototype={addEventListener:function(t,e){return t="object"==typeof t?t.type:t,this._events=this._events||{},(this._events[t]=this._events[t]||[]).push(e),this},removeEventListener:function(t,e){return t="object"==typeof t?t.type:t,this._events&&t in this._events!=!1?(this._events[t].splice(this._events[t].indexOf(e),1),this):this},dispatchEvent:function(t){if(t="object"==typeof t?t.type:t,!this._events||t in this._events==!1)return this;for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1));return this}},e.exports=r},{}],8:[function(t,e,n){(function(t){function n(){return n.global}var r="undefined"==typeof window&&"undefined"==typeof document;n.global={isServer:r,debug:!1,api:{},expressionsGlobal:r?t:window,factory:r?null:document},e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,n){function r(t){this._queue=t?t._queue.slice():[]}var i=/^(?:[\w'"\(\),]+\s*){0,10}/;r.prototype={call:function(t,e){for(var n=0,r=this._queue.length;r>n;++n)e=this._queue[n].call(t,e);return e},lower:function(){return this._queue.push(function(t){return t.toLowerCase()}),this},upper:function(){return this._queue.push(function(t){return t.toUpperCase()}),this},reverse:function(){return this._queue.push(function(t){return t.reverse()}),this},join:function(t){return this._queue.push(function(e){return e.join(t)}),this},json:function(t){return this._queue.push(function(e){return JSON.stringify.apply(JSON,t?[e,null," "]:[e])}),this},truncate:function(){return this._queue.push(function(t){var e=i.exec(t);return e?e[0]+"...":t}),this}},e.exports=r},{}],10:[function(t,e,n){function r(t,e){if(!e)throw new Error("context is undefined");try{return t.call(e.data,e,u().expressionsGlobal)}catch(n){return console.error(n,u().debug?n.stack:""),""}}function i(t,e,n){var r=t+e;if(h[r])return n.push.apply(n,h[r].dependencies),h[r].func;var i=[];t=t.replace(l,function(t){if("true"==t||"false"==t||"null"==t)return t;switch(t[0]){case'"':case"'":return t;case"$":return"."===t[1]?"__global"+t.substring(1):(i.push(t),'__context.get(["'+t.split(".").join('","')+'"])');default:return i.push(t),'__context.get(["'+t.split(".").join('","')+'"])'}}),n.push.apply(n,i);var s=new Function("__context","__global","return "+t+";");if(!e)return h[r]={func:s,dependencies:i},s;var o=new Function("Filter","return new Filter()."+e)(a),u=h[r]=function(t,e){return o.call(this,s.call(this,t,e))};return h[r]={func:u,dependencies:i},u}function s(t,e,n,i,s){return function(o,u,a){t.results[i]=r(n,e),1===t.dependenciesCount?s(o,u,t.output(e)):t.willFire||(t.willFire=e.delay(function(){t.willFire&&(t.willFire=null,s(o,u,t.output(e)))},0))}}function o(t){var e=r(this.parts[1].func,t);return"undefined"!=typeof e||this._strict?e:""}var u=t("./env"),a=t("./filter"),l=/true|false|null|\$\.(?:[a-zA-Z]\w*(?:\.\w*)*)|\$this(?:\.\$?\w*)*|\$parent(?:\.\$?\w*)+|\$(?:[a-zA-Z]\w*(?:\.\w*)*)|"[^"]*"|'[^']*'|[a-zA-Z_]\w*(?:\.\w*)*/g,h={},c=function(t){this.outputed=!1,this.binds=[],this.results=[],this.willFire=null,this.parts=t.parts,this.dependenciesCount=t.dependenciesCount,this.directOutput=t.directOutput,this._strict=t._strict};c.prototype.output=function(t){if(this.directOutput)return this.outputed?this.results[0]:(this.outputed=!0,this.results[0]=this.directOutput(t));for(var e="",n=!0,i=0,s=0,o=this.parts.length;o>s;s++)n?e+=this.parts[s]:(e+=this.outputed?this.results[i]:this.results[i]=r(this.parts[s].func,t),i++),n=!n;return this.outputed||(this.outputed=!0),e};var p=function(t,e){this.__interpolable__=!0,this._strict=e||!1;var n;5===t.length&&""===t[0]&&""===t[4]&&(this.directOutput=o),this.parts=[],this.dependenciesCount=0;for(var r=!1,s=0,u=t.length;u>s;s++)if(r=!r)this.parts.push(t[s]);else{var n=[];this.parts.push({func:i(t[s],t[s+2],n),dep:n}),s+=2,this.dependenciesCount+=n.length}};p.prototype={subscribeTo:function(t,e){for(var n=new c(this),r=0,i=1,o=this.parts.length;o>i;i+=2){var u=s(n,t,this.parts[i].func,r,e),a=this.parts[i].dep;r++;for(var l=0,h=a.length;h>l;l++)n.binds.push(t.subscribe(a[l],u))}return function(){n.willFire=null;for(var t=0;t<n.binds.length;t++)n.binds[t]()}},output:function(t){if(this.directOutput)return this.directOutput(t);for(var e="",n=!0,i=this.parts,s=0,o=i.length;o>s;++s){if(n)e+=i[s];else{var u=r(i[s].func,t);if("undefined"==typeof u){if(this._strict)return;e+=""}e+=u}n=!n}return e}};var f=/\{\{\s*(.+?)((?:(?:\s\|\s)(.+?))?)\s*\}\}/;e.exports={interpolable:function(t,e){if("string"!=typeof t)return t;var n=t.split(f);return 1==n.length?t:new p(n,e)},Interpolable:p}},{"./env":8,"./filter":9}],11:[function(t,e,n){function r(t,e){for(var n=e||new s,r=0,o=t.childNodes.length;o>r;++r)i(t.childNodes[r],n);return n}function i(t,e){var n=e||new s;switch(t.nodeType){case 1:var i=new s;if(r(t,i),t.id&&i.id(t.id),t.attributes.length)for(var o=0,u=t.attributes.length;u>o;++o){var a=t.attributes[o];"data-template"===a.name&&console.log("catch data template"),i.attr(a.name,a.value)}for(var l=0;l<t.classList;++l)i.setClass(t.classList[l]);n.tag.apply(n,[t.tagName.toLowerCase(),i]);break;case 3:n.text(t.textContent);break;case 4:console.log("element is CDATA : ",t);break;default:console.warn("y.elementToTemplate : DOM node not managed : type : %s, ",t.nodeType,t)}return n}var s=t("../template");e.exports={elementChildrenToTemplate:r,elementToTemplate:i}},{"../template":18}],12:[function(t,e,n){var r=t("elenpi"),i=r.r,s=r.Parser,o=t("../template"),u=t("./string-to-template"),a={openTags:t("./open-tags"),document:i().zeroOrMore(null,i().space().rule("comment")).regExp(/^\s*<!DOCTYPE[^>]*>\s*/i,!0).rule("children").space(),comment:i().regExp(/^<!--(?:.|\n|\r)*?(?=-->)-->/),tagEnd:i().regExp(/^\s*<\/([\w-_]+)\s*>/,!1,function(t,e){if(t.tagName!==e[1].toLowerCase())throw new Error("tag badly closed : "+e[1]+" - (at opening : "+t.tagName+")")}),innerScript:i().done(function(t,e){var n=t.indexOf("</script>");if(-1==n)throw new Error("script tag badly closed.");return n&&(e.scriptContent=t.substring(0,n)),t.substring(n+9)}),children:i().zeroOrMore(null,i().oneOf([i().space().rule("comment").skip(),i().space().rule("tag"),i().rule("text")])),text:i().regExp(/^[^<]+/,!1,function(t,e){t.text(e[0])}),tag:i().regExp(/^<([\w-_]+)\s*/,!1,function(t,e){t.tagName=e[1].toLowerCase()}).done(function(t,e){return e._attributesTemplate=new o,this.exec(t,e._attributesTemplate,this.rules.attributes)}).oneOf([i()["char"](">").done(function(t,e){if(this.rules.openTags.test(e.tagName))return t;if("script"===e.tagName)return this.exec(t,e,this.rules.innerScript);e._eachTemplate=new o;var n=this.exec(t,e._eachTemplate,this.rules.children);return n===!1?!1:this.exec(n,e,this.rules.tagEnd)}),i().regExp(/^\/>/)]).done(function(t,e){var n=e._eachTemplate,r=e._attributesTemplate;return n&&(r._hasEach?r._queue.unshift({type:"done",fn:function(t){return this._eachTemplate=n,t}}):r._queue=r._queue.concat(n._queue)),e.tag(e.tagName,r),delete e._attributesTemplate,delete e._eachTemplate,delete e.tagName,t}),attributes:i().zeroOrMore(null,i().regExp(/^([\w-_]+)\s*(?:=(?:"([^"]*)"|([\w-_]+)))?\s*/,!1,function(t,e){var n=e[1],r=void 0!==e[2]?e[2]:void 0!==e[3]?e[3]:"";switch(n){case"class":if(!r)break;r.split(/\s+/).forEach(function(e){t.setClass(e)});break;case"data-template":if(!r)break;var i=u.parseTemplate(r);if(i===!1)throw new Error("data-template attribute parsing failed : "+r);t._queue=t._queue.concat(i._queue),t._hasEach=t._hasEach||i._hasEach;break;case"id":if(!r)break;t.id(r);break;default:t.attr(n,r)}}))},l=new s(a,"children");l.createDescriptor=function(){return new o},e.exports=l},{"../template":18,"./open-tags":14,"./string-to-template":16,elenpi:1}],13:[function(t,e,n){var r=t("elenpi"),i=r.r,s=r.Parser,o=t("./primitive-argument-rules"),u={path:i().oneOrMore(null,i().regExp(/^[\w-_\$]+/,!1,function(t,e){(t.path=t.path||[]).push(e[0])}),i().regExp(/^\./)),call:i().rule("path").done(function(t,e){return e.method=e.path,e.path=null,e.arguments=[],t}).zeroOrOne(null,i().regExp(/^\s*\(\s*/).zeroOrMore(null,i().oneOf(["integer","float","bool","singlestring","doublestring",i().rule("path").done(function(t,e){return e.arguments.push(e.path),e.path=null,t})]),i().regExp(/^\s*,\s*/)).regExp(/^\s*\)/))};for(var a in o)u[a]=o[a];var l=new s(u,"call");l.parseListener=function(t){var e=this.parse(t);if(!e.method)throw new Error("yamvish listener badly formatted : "+t);return function(n){var r=this.get(e.method);if(!r)throw new Error("yamvish listener not found : "+t);if(!e.arguments)return r.call(this,n);for(var i=[n],s=0,o=e.arguments.length;o>s;++s){var u=e.arguments[s];i.push(u.forEach?this.get(u):u)}return r.apply(this,i)}},e.exports=l},{"./primitive-argument-rules":15,elenpi:1}],14:[function(t,e,n){e.exports=/(br|input|img|area|base|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)/},{}],15:[function(t,e,n){var r=t("elenpi").r,i={doublestring:r().regExp(/^"([^"]*)"/,!1,function(t,e){t.arguments.push(e[1])}),singlestring:r().regExp(/^'([^']*)'/,!1,function(t,e){t.arguments.push(e[1])}),"float":r().regExp(/^[0-9]*\.[0-9]+/,!1,function(t,e){t.arguments.push(parseFloat(e[0],10))}),integer:r().regExp(/^[0-9]+/,!1,function(t,e){t.arguments.push(parseInt(e[0],10))}),bool:r().regExp(/^(true|false)/,!1,function(t,e){t.arguments.push("true"===e[1]?!0:!1)})};e.exports=i},{elenpi:1}],16:[function(t,e,n){function r(t){for(var e=new u,n=0,r=t.length;r>n;++n){var i=t[n];if(!e[i.method])throw new Error("no handler found in Template as : "+i.method);e[i.method].apply(e,i.arguments)}return e}var i=t("elenpi"),s=i.r,o=i.Parser,u=t("../template"),a=t("./primitive-argument-rules"),l={templates:s().space().zeroOrMore("calls",s().rule("template"),s().regExp(/^\s*\.\s*/)).done(function(t,e){var n;return e.calls&&(n=r(e.calls)),n&&e.arguments?(e.arguments.push(n),delete e.calls):e.calls=n,t}),template:s().regExp(/^[\w-_]+/,!1,function(t,e){t.method=e[0],t.arguments=[]}).zeroOrOne(null,s().regExp(/^\s*\(\s*/).zeroOrMore(null,s().oneOf(["integer","float","bool","singlestring","doublestring","templates"]),s().regExp(/^\s*,\s*/)).regExp(/^\s*\)/))};for(var h in a)l[h]=a[h];var c=new o(l,"templates"),p={};c.parseTemplate=function(t){if(void 0!==p[t])return p[t].calls;var e=p[t]=c.parse(t);return e===!1?!1:e.calls},e.exports=c},{"../template":18,"./primitive-argument-rules":15,elenpi:1}],17:[function(t,e,n){function r(){this.__yPureNode__=!0}r.prototype={insertBefore:function(t,e){var n=this.childNodes.indexOf(e);return-1==n?!1:(0==n?this.childNodes.unshift(t):this.childNodes.splice(n,0,t),!0)},appendChild:function(t){return(this.childNodes=this.childNodes||[]).push(t),t.parentNode=this,t},removeChild:function(t){if(!this.childNodes)return!1;for(var e=0,n=this.childNodes.length;n>e;++e)if(this.childNodes[e]===t)return t.parentNode=null,this.childNodes.splice(e,1),t;return!1},toString:function(){if(!this.childNodes)return"";for(var t="",e=0,n=this.childNodes.length;n>e;++e)t+=this.childNodes[e].toString();return t}},e.exports=r},{}],18:[function(t,e,n){!function(){"use strict";function n(){this.attributes="",this.classes="",this.children="",this.style=""}function r(t){this.__yTemplate__=!0,t?(this._queue=t._queue.slice(),this._hasEach=t._hasEach):this._queue=[]}function i(){return new r}function s(t,e,n,r){r=t.__yContainer__?t:r;for(var i,s=e[0],o=0,u=[];s;)o++,s.toElement?(i=s.toElement.call(t,t.context||n,r),i&&i.then&&u.push(i),s=e[o]):s=e[o];return u.length?1===Promise.length?u[0]:Promise.all(u):void 0}var o=t("./utils"),u=t("./env"),a=t("./interpolable").interpolable,l=t("./pure-node"),h=t("./parsers/open-tags"),c=t("./container"),p=t("./context"),f=t("./parsers/listener-call"),d=function(t,e){if(e=e||t._eachTemplate,!e)throw o.produceError("no template for .each template handler",t);return e};r.prototype={call:function(t,e,n){return s(t,this._queue,e,n)},toContainer:function(t,e){var e=new c;return e.promise=s(e,this._queue,t,e),e},toHTMLString:function(t,e,r){e=e||new n;for(var i=0,s=this._queue.length;s>i;++i)this._queue[i].toHTMLString&&this._queue[i].toHTMLString(t,e,r);return e.children},exec:function(t,e){return this._queue.push({toElement:t,toHTMLString:e===!0?t:e}),this},log:function(){var t=Array.prototype.slice.call(arguments);return this.exec(function(e){console.log.apply(console,t)},!0)},"if":function(t,e,n){var r=typeof t;return"string"===r&&(t=a(t)),this.exec(function(i,s){var o=t,u=this,a=function(t,r,o){return o?e.call(u,u.context||i,s):n?n.call(u,u.context||i,s):void 0};return t&&t.__interpolable__?(o=t.output(i),(this._binds=this._binds||[]).push(t.subscribeTo(i,a))):"function"===r&&(o=t.call(this,i)),a("set",null,o)},function(i,s,o){var u;return t&&t.__interpolable__?u=t.output(i):"function"===r&&(u=t.call(this,i)),u?e.toHTMLString(i,s,o):n?n.toHTMLString(i,s,o):void 0})},set:function(t,e){return this.exec(function(n){n.set(t,e)},!0)},setAsync:function(t,e){return this.exec(function(n){n.setAsync(t,e)},!0)},dependent:function(t,e,n){return this.exec(function(r){r.dependent(t,e,n)},!0)},push:function(t,e){return this.exec(function(n){n.push(t,e)},!0)},pushAsync:function(t,e){return this.exec(function(n){n.pushAsync(t,e)},!0)},toggle:function(t){return this.exec(function(e){e.toggle(t)},!0)},toggleInArray:function(t){return this.exec(function(e){e.toggleInArray(t)},!0)},del:function(t){return this.exec(function(e){e.del(t)},!0)},context:function(t){var e;return"string"==typeof t&&(e=t),this.exec(function(n){this.context=new p({data:e?null:t,parent:n,path:e?e:null})},!0)},sub:function(t,e,n){return this.exec(function(r){(this._binds=this._binds||[]).push(r.subscribe(t,e,n))},function(r){r.subscribe(t,e,n)})},unsub:function(t,e,n){return this.exec(function(r){(this._binds=this._binds||[]).push(r.unsubscribe(t,e,n))},function(r){r.unsubscribe(t,e,n)})},"with":function(t,e){return this.exec(function(n,r){var i=new p({data:"string"==typeof t?n.get(t):t,parent:n,path:t});return e.call(this,i,r)},function(r,i,s){var o=new p({data:"string"==typeof t?r.get(t):t,parent:r,path:t}),u=new n;e.toHTMLString(o,u,s),i.attributes+=u.attributes,u.style&&(i.style+=u.style),u.classes&&(i.classes+=u.classes),u.children&&(i.children+=u.children)})},attr:function(t,e){return"string"==typeof e&&(e=a(e)),this.exec(function(n){var r=this,i=e;if(e.__interpolable__){i=e.output(n);var s=function(e,n,i){r.setAttribute(t,i)};(this._binds=this._binds||[]).push(e.subscribeTo(n,s))}this.setAttribute(t,i)},function(n,r){r.attributes+=" "+t,e&&(r.attributes+='="'+(e.__interpolable__?e.output(n):e)+'"')})},removeAttr:function(t){return this.exec(function(e){this.removeAttribute(t)},function(t,e){})},disabled:function(t){var e=!1;return t&&"!"===t[0]&&(t=t.substring(1),e=!0),this.exec(function(n){var r=this,i=function(t,n,i){e&&(i=!i),i?r.setAttribute("disabled"):r.removeAttribute("disabled")};"string"==typeof t?((this._binds=this._binds||[]).push(n.subscribe(t,i)),i("set",null,n.get(t))):i("set",null,void 0!==t?t:!0)},function(e,n){(void 0===t||e.get(t))&&(n.attributes+=" disabled")})},val:function(t){var e;if("string"==typeof t&&(t=a(t),t.__interpolable__)){if(1!==t.dependenciesCount)throw new Error("template.val expression could only depend to one variable.");e=t.parts[1].dep[0]}return this.exec(function(n){var r=this;t.__interpolable__?(u().isServer||this.addEventListener("input",function(t){n.set(e,t.target.value)}),(this._binds=this._binds||[]).push(t.subscribeTo(n,function(t,e,n){r.setAttribute("value",n)})),this.setAttribute("value",t.output(n))):this.setAttribute("value",t)},function(e,n){n.attributes+=' value="'+(t.__interpolable__?t.output(e):t)+'"'})},contentEditable:function(t){return"string"==typeof t&&(t=a(t)),this.exec(function(e){var n,r,i=this;this.setAttribute("contenteditable",!0),t.__interpolable__?(r=e.get(t.directOutput),u().isServer||this.addEventListener("input",function(n){i.freeze=!0,e.set(t.directOutput,n.target.textContent)}),(this._binds=this._binds||[]).push(t.subscribeTo(e,function(t,e,n){i.freeze||(i.nodeValue=n,i.el&&(i.el.nodeValue=n)),i.freeze=!1}))):r=t,n=u().factory.createTextNode(r),this.appendChild(n)},function(t,e){e.attributes+=" contenteditable"})},setClass:function(t,e){return e&&(e=a(e)),t=a(t),e=arguments[1]?e:!0,this.exec(function(n){var r=this,i=t,s=e,u=function(t,e,n){s=n,n?o.setClass(r,i):o.removeClass(r,i)};if(t.__interpolable__){var a=function(t,e,n){s&&(o.removeClass(r,i),o.setClass(r,n)),i=n};(this._binds=this._binds||[]).push(t.subscribeTo(n,a)),i=t.output(n)}e.__interpolable__?((this._binds=this._binds||[]).push(e.subscribeTo(n,u)),u("set",null,e.output(n))):u("set",null,e)},function(n,r){(e.__interpolable__&&e.output(n)||e)&&(r.classes+=" "+(t.__interpolable__?t.output(n):t))})},css:function(t,e){return"string"==typeof e&&(e=a(e)),this.exec(function(n){var r=e,i=this;e.__interpolable__&&(r=e.output(n),(this._binds=this._binds||[]).push(e.subscribeTo(n,function(e,n,r){i.style[t]=r}))),this.style||(this.style={}),this.style[t]=r},function(n,r){r.style+=t+":"+(e.__interpolable__?e.output(n):e)})},visible:function(t){return t=a(t),this.exec(function(e){var n=t,r=this,i=(this.style?this.style.display:"")||"";this.style||(this.style={}),t.__interpolable__&&(n=t.output(e),(this._binds=this._binds||[]).push(t.subscribeTo(e,function(t,e,n){r.__yContainer__?n?r.show():r.hide():r.style.display=n?i:"none"}))),this.__yContainer__?n?this.show():this.hide():this.style.display=n?i:"none"},function(e,n){var r=t.__interpolable__?t.output(e):t;r||(n.style+="display:none;")})},br:function(){return this.exec(function(t){this.appendChild(u().factory.createElement("br"))},function(t,e){e.children+="<br>"})},text:function(t){return"string"==typeof t&&(t=a(t)),this.exec(function(e){var n,r=u();t.__interpolable__?(n=r.factory.createTextNode(t.output(e)),(this._binds=this._binds||[]).push(t.subscribeTo(e,function(t,e,r){n.__yVirtual__&&(n.nodeValue=r,n.el&&n.el.nodeValue!==r&&(n.el.nodeValue=r)),n.nodeValue!==r&&(n.nodeValue=r)}))):n=r.factory.createTextNode(t),this.appendChild(n)},function(e,n){n.children+=t.__interpolable__?t.output(e):t})},space:function(){return this.text(" ")},nbsp:function(){return this.text(" ")},tag:function(t){for(var e=[],r=1,s=arguments.length;s>r;++r)arguments[r]&&e.push(arguments[r].call?arguments[r]:i().text(arguments[r]));return this.exec(function(n,r){var i,s=u().factory.createElement(t),o=[];this.appendChild(s);for(var a=0,l=e.length;l>a;++a)i=e[a].call(s,this.childrenContext||n,r),i&&i.then&&o.push(i);return o.length?1===o.length?o[0]:Promise.all(o):void 0},function(r,i,s){var o="<"+t;this._id&&(o+=' id="'+this._id+'"');for(var u=new n,a=0,l=e.length;l>a;a++)e[a].toHTMLString&&e[a].toHTMLString(r,u,s);o+=u.attributes,u.style&&(o+=' style="'+u.style+'"'),u.classes&&(o+=' class="'+u.classes+'"'),u.children?i.children+=o+">"+u.children+"</"+t+">":h.test(t)?i.children+=o+">":/span|script|meta/.test(t)?i.children+=o+"></"+t+">":i.children+=o+"/>"})},a:function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift("a",i().attr("href",t)),
this.tag.apply(this,e)},img:function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift("img",i().attr("src",t)),this.tag.apply(this,e)},input:function(t,e){var n=Array.prototype.slice.call(arguments,2),r=i().attr("type",t);return e&&r.val(e),n.unshift("input",r),this.tag.apply(this,n)},h:function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift("h"+t),this.tag.apply(this,e)},on:function(t,e){return"string"==typeof e&&(e=f.parseListener(e)),this.exec(function(n){this.addEventListener(t,function(t){return e.call(n,t)})})},off:function(t,e){return this.exec(function(){this.removeEventListener(t,e)})},each:function(t,e){return this._hasEach=!0,this.exec(function(n,r){function i(t,e){var i=new p({data:t,parent:n}),s=new l;s.context=i,r.childNodes.push(s);var o=u.call(s,i,r);return o&&o.then&&e.push(o),s}var s=this,u=d(this,e),r=new l;r.childNodes=[],this.__yPureNode__?this.appendChild(r):(this._yamvish_containers=this._yamvish_containers||[]).push(r);var a=function(t,e,n,u){switch(e&&e.forEach&&(e=e.join(".")),t){case"reset":case"set":var a,l=0,h=[],c=!s.__yPureNode__||s.mountPoint?o.findNextSibling(r):null,p=a||s.mountPoint||s;c=a?null:c;for(var f=n.length;f>l;++l)if(r.childNodes[l])r.childNodes[l].context.reset(n[l]);else{var d=i(n[l],h);s.__yPureNode__&&!s.mountPoint||!d.childNodes||o.mountChildren(d,p,c)}if(l<r.childNodes.length){for(var _=l,v=r.childNodes.length;v>l;++l)o.destroyElement(r.childNodes[l],!0);r.childNodes.splice(_)}if(h.length)return Promise.all(h);break;case"removeAt":o.destroyElement(r.childNodes[u],!0),r.childNodes.splice(u,1);break;case"push":var c=o.findNextSibling(r),h=[],d=i(n,h);if(s.__yPureNode__&&!s.mountPoint||!d.childNodes||o.mountChildren(d,s.mountPoint||s,c),h.length)return h[0]}},h=t;return"string"==typeof t&&(this._binds=this._binds||[],this._binds.push(n.subscribe(t,a)),this._binds.push(n.subscribe(t+".*",function(t,e,n,i){var s=r.childNodes[i];return s?s.context.reset(n):void 0})),h=n.get(t)),h?a("set",t,h):void 0},function(r,i,s){var o=d(this,e),u=new n,a="string"==typeof t?r.get(t):t;if(a)for(var l=0,h=a.length;h>l;++l)o.toHTMLString(new p({data:a[l],parent:r}),u,s);i.children+=u.children})},use:function(t){var e=Array.prototype.slice.call(arguments);e.shift(),"string"==typeof t&&(t=t.split(":"));var n=t.forEach?o.getApiMethod(u(),t):t;return n.__yTemplate__?this._queue=this._queue.concat(n._queue):n.apply(this,e),this},client:function(t){return this.exec(function(e,n){return u().isServer?void 0:t.call(this,e,n)},function(e,n,r){return u().isServer?void 0:t.toHTMLString(e,n,r)})},server:function(t){return this.exec(function(e,n){return u().isServer?t.call(this,e,n):void 0},function(e,n,r){return u().isServer?t.toHTMLString(e,n,r):void 0})},api:function(t){var e="string"==typeof t?u().api[t]:t;if(!e)throw new Error("no template api found with : "+t);for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);return this},find:function(t,e){return this.exec(function(n,r){if(!this.querySelectorAll)throw new Error("yamvish : you try to Template.find on node that doesn't have querySelectorAll");for(var i=this.querySelectorAll(t),s=[],o=0,u=i.length;u>o;++o){var a=e.call(i[o],n,r);a&&a.then&&s.push(a)}return s.length?Promise.all(s):void 0})},contentSwitch:function(t,e){return t=a(t),this.exec(function(n,r){var i,s=o.shallowCopy(e),u=this,a=function(t,e,r){if(!r)return i&&i.unmount(),void(i=null);var o=s[r];if(!o)throw new Error("yamvish contentSwitch : unrecognised value : "+r);if(i&&i.unmount(),i=null,o.__yContainer__)i=o.mount(u);else{if("string"!=typeof o)return i=s[r]=o.toContainer(n).mount(u);u.innerHTML=o}};return(this._binds=this._binds||[]).push(t.subscribeTo(n,a)),a("set",null,t.output(n))},function(t,e,n){})},cssSwitch:function(t,e,n){return e=a(e),this.exec(function(r,i){var s=o.shallowCopy(n),u=this,a=function(e,n,o){var a=s[o];if("undefined"==typeof a)throw new Error("yamvish cssSwitch : unrecognised value : "+o);"function"==typeof a&&(a=a.call(u,r,i)),"undefined"==typeof a?delete u.style[t]:u.style[t]=a};return(this._binds=this._binds||[]).push(e.subscribeTo(r,a)),a("set",null,e.output(r))},function(t,e,n){})},html:function(t,e,n){return e="undefined"==typeof e?!0:e,e="string"==typeof e?a(e):e,t="string"==typeof t?a(t):t,this.exec(function(r,i){var s=e,o=t,u=this;if(t.__interpolable__){o=t.output(r);var a=function(t,e,a,l){o=a,s&&(u.innerHTML=o,n.call(u,r,i))};(this._binds=this._binds||[]).push(t.subscribeTo(r,a))}if(e&&e.__interpolable__){s=e.output(r);var l=function(t,e,a,l){s=a,a?(u.innerHTML=o,n.call(u,r,i)):u.innerHTML=""};(this._binds=this._binds||[]).push(e.subscribeTo(r,l))}s&&(u.innerHTML=o,n.call(u,r,i))},function(t,e,n){})}},r.addAPI=function(t){for(var e in t)r.prototype[e]=t[e]},r.prototype.cl=r.prototype.setClass,["div","span","ul","li","button","p","form"].forEach(function(t){r.prototype[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(t),this.tag.apply(this,e)}}),["click","blur","focus","submit"].forEach(function(t){r.prototype[t]=function(e){return u().isServer?void 0:this.on(t,e)}}),e.exports=r}()},{"./container":5,"./context":6,"./env":8,"./interpolable":10,"./parsers/listener-call":13,"./parsers/open-tags":14,"./pure-node":17,"./utils":19}],19:[function(t,e,n){function r(t,e){var n=new Error(t);return n.report=e,n}function i(t,e){var n=0;"$this"===e[0]&&(n=1);for(var r=t,i=n,s=e.length;s>i;++i)if(!r||void 0===(r=r[e[i]]))return;return r}function s(t,e){var n=t,r=0;for(len=e.length-1;r<len;++r)if(n&&!(n=n[e[r]]))return;n&&delete n[e[r]]}function o(t,e,n){for(var r,i=t,s=0,o=e.length-1;o>s;++s)i=i&&!i[e[s]]?i[e[s]]={}:i[e[s]];return i&&(r=i[e[s]],i[e[s]]=n),r}function u(t){if(t.childNodes&&t.childNodes.length){for(var e=0,n=t.childNodes.length;n>e;++e)a(t.childNodes[e]);t.__yVirtual__?t.childNodes=[]:t.innerHTML=""}}function a(t,e){if(e&&t.parentNode&&(t.parentNode.removeChild(t),t.parentNode=null),t.__yPureNode__?(t.__yVirtual__&&(t.attributes=void 0,t.listeners=void 0,t.classes=void 0,t.style=void 0),t.childNodes&&t.childNodes.length&&l(t,e)):t.childNodes&&t.childNodes.length&&l(t),t._binds){for(var n=0,r=t._binds.length;r>n;n++)t._binds[n]();t._binds=null}t._yamvish_containers&&(t._yamvish_containers=null),t.context&&t.context.destroy(),t._route&&(t._route.unbind&&t._route.unbind(),t._route=null)}function l(t,e){if(t.childNodes)for(var n=0;n<t.childNodes.length;n++)a(t.childNodes[n],e)}function h(t,e){for(var n in t)e[n]=t[n]}function c(t,e,n){if(t.childNodes&&t.__yPureNode__)if(n)for(var r=t.childNodes.length-1;r>=0;--r){var i=t.childNodes[r];i.__yPureNode__&&!i.__yVirtual__?c(i,e,n):e.insertBefore(i,n)}else for(var s=0,o=t.childNodes.length;o>s;++s){var i=t.childNodes[s];i.__yPureNode__&&!i.__yVirtual__?c(i,e):e.appendChild(i)}}function p(t){for(var e=t;e&&!e.__yVirtual__&&e.__yPureNode__&&e.childNodes&&e.childNodes.length;)e=e.childNodes[e.childNodes.length-1];return!e||e.__yPureNode__&&!e.__yVirtual__?null:e.nextSibling}function f(t,e){t.__yVirtual__?(t.el&&t.el.classList.add(e),(t.classes=t.classes||{})[e]=!0):t.classList.add(e)}function d(t,e){t.__yVirtual__?(t.el&&t.el.classList.remove(e),t.classes&&delete t.classes[e]):t.classList.remove(e)}e.exports={mountChildren:c,mergeProto:h,destroyElement:a,destroyChildren:l,setProp:o,deleteProp:s,getProp:i,emptyNode:u,produceError:r,setClass:f,removeClass:d,findNextSibling:p,hide:function(t){return t.__yContainer__?t.hide():(t.style||(t.style={}),void(t.style.display="none"))},show:function(t){return t.__yContainer__?t.show():(t.style||(t.style={}),void(t.style.display=""))},merge:function(t,e){var n={};for(var r in t)n[r]=t[r];for(var i in e)n[i]=e[i];return n},domQuery:function(t){return"#"===t[0]?document.getElementById(t.substring(1)):document.querySelector(t)},shallowCopy:function(t){if(t&&t.forEach)return t.slice();if(t&&"object"==typeof t){if(t instanceof RegExp)return t;var e={};for(var n in t)e[n]=t[n];return e}return t},getEachTemplate:function(t,e){if(e=e||t._eachTemplate,!e)throw r("no template for .each template handler",t);return e},getApiMethod:function(t,e){if(e.forEach||(e=e.split(":")),2!==e.length)throw new Error("yamvish method call badly formatted : "+e.join(":"));var n=t.api[e[0]][e[1]];if(!n)throw new Error('no template/container found with "'+e.join(":")+'"');return n},getFunctionArgs:function(t){return(t+"").replace(/\s+/g,"").replace(/[\/][*][^\/*]*[*][\/]/g,"").split("){",1)[0].replace(/^[^(]*[(]/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)}}},{}],20:[function(t,e,n){var r=t("./utils"),i=t("./template"),s=t("./container"),o=t("./context"),u=function(t){this.__yView__=!0,t=t||{},t.componentName&&addComponent(t.componentName,this),o.call(this,t),s.call(this,t)};r.mergeProto(i.prototype,u.prototype),r.mergeProto(s.prototype,u.prototype),r.mergeProto(o.prototype,u.prototype),u.prototype.exec=function(t){var e=t.call(this,this,this);return e&&e.then&&this.waiting(e),this},u.prototype.destroy=function(){s.prototype.destroy.call(this),o.prototype.destroy.call(this)},delete u.prototype.call,delete u.prototype.toElement,delete u.prototype.context,delete u.prototype.id,delete u.prototype.attr,delete u.prototype.setClass,delete u.prototype.visible,delete u.prototype.css,delete u.prototype.val,delete u.prototype.contentEditable,e.exports=u},{"./container":5,"./context":6,"./template":18,"./utils":19}],21:[function(t,e,n){function r(t){t=t||{},this.__yVirtual__=!0,t.tagName&&(this.tagName=t.tagName),t.nodeValue&&(this.nodeValue=t.nodeValue),o.call(this,t)}var i=t("./utils"),s=t("./emitter"),o=t("./pure-node"),u=t("./parsers/open-tags");r.prototype={setAttribute:function(t,e){(this.attributes=this.attributes||{})[t]=e},removeAttribute:function(t,e){this.attributes&&delete this.attributes[t]}},i.mergeProto(o.prototype,r.prototype),i.mergeProto(s.prototype,r.prototype),r.prototype.toString=function(){if("textnode"===this.tagName)return this.nodeValue;var t="<"+this.tagName;this.id&&(t+=' id="'+this.id+'"');for(var e in this.attributes)t+=" "+e+'="'+this.attributes[e]+'"';if(this.classes){var n=Object.keys(this.classes);n.length&&(t+=' class="'+n.join(" ")+'"')}if(this.childNodes&&this.childNodes.length){t+=">";for(var r=0,i=this.childNodes.length;i>r;++r)t+=this.childNodes[r].toString();t+="</"+this.tagName+">"}else t+=this.scriptContent?">"+this.scriptContent+"</script>":u.test(this.tagName)?">":" />";return t},r.createElement=function(t){return new r({tagName:t})},r.createTextNode=function(t){return new r({tagName:"textnode",nodeValue:t})},e.exports=r},{"./emitter":7,"./parsers/open-tags":14,"./pure-node":17,"./utils":19}]},{},[3])(3)});